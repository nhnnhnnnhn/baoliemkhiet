[ 2025-04-03 10:21:30 ] [ morgan ] [ error ] : $method /api/auth/login 401 - 143.078 ms - message: -
[ 2025-04-03 10:25:20 ] [ morgan ] [ error ] : $method /api/auth/login 401 - 138.670 ms - message: 
Invalid `prisma.user.findUnique()` invocation in
/home/nhaatj/School/Lập trình Web/BTL/baoliemkhiet/backend/src/services/auth.service.js:8:34

  5 const { sendOtp, verifyOtp } = require("./otp.service");
  6 
  7 async function loginUser(email, password) {
→ 8   const user = await prisma.user.findUnique(
The column `User.avatar` does not exist in the current database.
[ 2025-04-03 10:26:07 ] [ morgan ] [ error ] : $method /api/auth/login 401 - 249.037 ms - message: Invalid password
[ 2025-04-03 10:26:15 ] [ morgan ] [ info ] : $method /api/auth/login 200 - 138.728 ms
[ 2025-04-03 10:28:25 ] [ morgan ] [ info ] : $method /api/auth/login 200 - 334.074 ms
[ 2025-04-03 10:28:30 ] [ morgan ] [ error ] : $method /api/auth/login 400 - 134.373 ms - message: Invalid password
[ 2025-04-03 11:01:41 ] [ morgan ] [ error ] : $method /api/auth/login 400 - 223.385 ms - message: Invalid password
[ 2025-04-03 11:01:46 ] [ morgan ] [ info ] : $method /api/auth/login 200 - 128.318 ms
[ 2025-04-03 11:02:18 ] [ morgan ] [ error ] : $method /api/notification/1 404 - 1.085 ms - message: -
[ 2025-04-03 11:02:23 ] [ morgan ] [ error ] : $method /api/notification/1 404 - 0.417 ms - message: -
[ 2025-04-03 11:02:39 ] [ morgan ] [ error ] : $method /api/notifications/1 401 - 0.957 ms - message: -
[ 2025-04-03 11:03:13 ] [ morgan ] [ error ] : $method /api/notifications/1 400 - 107.992 ms - message: 
Invalid `prisma.user.findUnique()` invocation in
/home/nhaatj/School/Lập trình Web/BTL/baoliemkhiet/backend/src/services/notification.service.js:27:34

  24 }
  25 
  26 async function getNotifications(receiver_id) {
→ 27   const user = await prisma.user.findUnique({
         where: {
           id: "1"
               ~~~
         }
       })

Argument `id`: Invalid value provided. Expected Int, provided String.
[ 2025-04-03 11:07:55 ] [ morgan ] [ error ] : $method /api/notifications/1 400 - 143.165 ms - message: 
Invalid `prisma.notification.findMany()` invocation in
/home/nhaatj/School/Lập trình Web/BTL/baoliemkhiet/backend/src/services/notification.service.js:34:51

  31   throw new Error("User not found");
  32 }
  33 
→ 34 const notifications = await prisma.notification.findMany({
       where: {
         receiver_id: 1
       },
       orderBy: {
         createdAt: "desc",
         ~~~~~~~~~
     ?   id?: SortOrder,
     ?   receiver_id?: SortOrder,
     ?   type?: SortOrder,
     ?   content?: SortOrder,
     ?   is_read?: SortOrder,
     ?   created_at?: SortOrder,
     ?   read_at?: SortOrder | SortOrderInput,
     ?   user?: UserOrderByWithRelationInput
       }
     })

Unknown argument `createdAt`. Did you mean `created_at`? Available options are marked with ?.
[ 2025-04-03 11:08:30 ] [ morgan ] [ error ] : $method /api/notifications/1 400 - 134.190 ms - message: 
Invalid `prisma.notification.findMany()` invocation in
/home/nhaatj/School/Lập trình Web/BTL/baoliemkhiet/backend/src/services/notification.service.js:34:51

  31   throw new Error("User not found");
  32 }
  33 
→ 34 const notifications = await prisma.notification.findMany({
       where: {
         receiver_id: 1
       },
       orderBy: {
         createdAt: "desc",
         ~~~~~~~~~
     ?   id?: SortOrder,
     ?   receiver_id?: SortOrder,
     ?   type?: SortOrder,
     ?   content?: SortOrder,
     ?   is_read?: SortOrder,
     ?   created_at?: SortOrder,
     ?   read_at?: SortOrder | SortOrderInput,
     ?   user?: UserOrderByWithRelationInput
       }
     })

Unknown argument `createdAt`. Did you mean `created_at`? Available options are marked with ?.
[ 2025-04-03 11:08:53 ] [ morgan ] [ info ] : $method /api/notifications/1 200 - 152.219 ms
[ 2025-04-03 11:11:15 ] [ morgan ] [ info ] : $method /api/notifications/1 200 - 195.545 ms
[ 2025-04-03 11:11:37 ] [ morgan ] [ error ] : $method /api/notifications/1 401 - 0.818 ms - message: -
[ 2025-04-03 11:11:41 ] [ morgan ] [ info ] : $method /api/notifications/1 200 - 30.943 ms
[ 2025-04-03 11:21:25 ] [ morgan ] [ info ] : $method /api/notifications/ 201 - 184.562 ms
[ 2025-04-03 11:21:59 ] [ morgan ] [ error ] : $method /api/notifications/ 400 - 27.972 ms - message: Invalid notification type
[ 2025-04-03 11:22:17 ] [ morgan ] [ info ] : $method /api/notifications/ 201 - 66.777 ms
[ 2025-04-03 11:24:08 ] [ morgan ] [ info ] : $method /api/auth/login 200 - 209.032 ms
[ 2025-04-03 11:24:29 ] [ morgan ] [ info ] : $method /api/notifications/1 200 - 40.344 ms
[ 2025-04-03 11:24:40 ] [ morgan ] [ info ] : $method /api/auth/login 200 - 83.552 ms
[ 2025-04-03 11:24:56 ] [ morgan ] [ error ] : $method /api/notifications 404 - 1.145 ms - message: -
[ 2025-04-03 11:25:25 ] [ morgan ] [ info ] : $method /api/notifications 200 - 151.826 ms
[ 2025-04-03 11:25:40 ] [ morgan ] [ info ] : $method /api/notifications 200 - 17.577 ms
[ 2025-04-03 11:27:43 ] [ morgan ] [ error ] : $method /api/notifications/count-unread 400 - 117.550 ms - message: 
Invalid `prisma.notification.count()` invocation in
/home/nhaatj/School/Lập trình Web/BTL/baoliemkhiet/backend/src/services/notification.service.js:93:43

  90   throw new Error("User not found");
  91 }
  92 
→ 93 const count = await prisma.notification.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         receiver_id: 2,
         isRead: false,
         ~~~~~~
     ?   AND?: NotificationWhereInput | NotificationWhereInput[],
     ?   OR?: NotificationWhereInput[],
     ?   NOT?: NotificationWhereInput | NotificationWhereInput[],
     ?   id?: IntFilter | Int,
     ?   type?: EnumNotificationTypeFilter | NotificationType,
     ?   content?: StringFilter | String,
     ?   is_read?: BoolFilter | Boolean,
     ?   created_at?: DateTimeFilter | DateTime,
     ?   read_at?: DateTimeNullableFilter | DateTime | Null,
     ?   user?: UserScalarRelationFilter | UserWhereInput
       }
     })

Unknown argument `isRead`. Did you mean `is_read`? Available options are marked with ?.
[ 2025-04-03 11:27:58 ] [ morgan ] [ error ] : $method /api/notifications/count-unread 400 - 159.664 ms - message: 
Invalid `prisma.notification.count()` invocation in
/home/nhaatj/School/Lập trình Web/BTL/baoliemkhiet/backend/src/services/notification.service.js:93:43

  90   throw new Error("User not found");
  91 }
  92 
→ 93 const count = await prisma.notification.count({
       select: {
         _count: {
           select: {
             _all: true
           }
         }
       },
       where: {
         receiver_id: 2,
         isRead: false,
         ~~~~~~
     ?   AND?: NotificationWhereInput | NotificationWhereInput[],
     ?   OR?: NotificationWhereInput[],
     ?   NOT?: NotificationWhereInput | NotificationWhereInput[],
     ?   id?: IntFilter | Int,
     ?   type?: EnumNotificationTypeFilter | NotificationType,
     ?   content?: StringFilter | String,
     ?   is_read?: BoolFilter | Boolean,
     ?   created_at?: DateTimeFilter | DateTime,
     ?   read_at?: DateTimeNullableFilter | DateTime | Null,
     ?   user?: UserScalarRelationFilter | UserWhereInput
       }
     })

Unknown argument `isRead`. Did you mean `is_read`? Available options are marked with ?.
[ 2025-04-03 11:28:15 ] [ morgan ] [ info ] : $method /api/notifications/count-unread 200 - 124.574 ms
[ 2025-04-03 11:28:30 ] [ morgan ] [ error ] : $method /api/notifications/read-all 404 - 0.951 ms - message: -
[ 2025-04-03 11:28:58 ] [ morgan ] [ info ] : $method /api/notifications/count-unread 200 - 27.111 ms
[ 2025-04-03 11:29:26 ] [ morgan ] [ error ] : $method /api/notifications/read-all 404 - 2.159 ms - message: -
[ 2025-04-03 11:29:41 ] [ morgan ] [ error ] : $method /api/notifications/read-all 404 - 1.659 ms - message: -
[ 2025-04-03 11:29:46 ] [ morgan ] [ error ] : $method /api/notifications/read-all 404 - 1.624 ms - message: -
[ 2025-04-03 11:30:22 ] [ morgan ] [ error ] : $method /api/notifications/read-all 404 - 1.499 ms - message: -
[ 2025-04-03 11:30:30 ] [ morgan ] [ info ] : $method /api/notifications/read-all 204 - 149.393 ms
[ 2025-04-03 11:30:50 ] [ morgan ] [ info ] : $method /api/notifications/count-unread 200 - 33.959 ms
